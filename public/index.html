<html>

<head>
    <title>matches</title>
    <script src="/bower_components/angular/angular.min.js"></script>
    <script src="components/matches/matchController.js"></script>
</head>

<body ng-app="sc2-stats" ng-controller="MatchController">
<a href="/api/init">Initialise Data</a>

<p>{{message}}</p>

<h2>Statistics</h2>
<table>
    <tr ng-repeat-start="raceDatum in raceData">
        <td>{{raceDatum.race}} Wins</td>
        <td>{{raceDatum.wins}}</td>
    </tr>
    <tr>
        <td>{{raceDatum.race}} Losses</td>
        <td>{{raceDatum.losses}}</td>
    </tr>
    <tr>
        <td>{{raceDatum.race}} Ratio</td>
        <td>{{raceDatum.ratio}}%</td>
    </tr>
    <tr ng-repeat-end ng-repeat="(againstRace, losses) in raceDatum.lossesAgainstRace">
        <td>Losses against {{againstRace}}</td>
        <td>{{losses}}</td>
    </tr>
</table>

<h2>{{raceData[0].race}} Match History</h2>
<table>
    <tr>
        <th>Player Race</th>
        <th>Opponent Race</th>
        <th>Result</th>
    </tr>
    <tr ng-repeat="match in raceData[0].matches">
        <td>{{match.playerRace}}</td>
        <td>{{match.opponentRace}}</td>
        <td>{{match.result}}</td>
    </tr>
</table>

</body>
</html>
